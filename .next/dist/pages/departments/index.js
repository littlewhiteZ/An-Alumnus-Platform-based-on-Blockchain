'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _semanticUiReact = require('semantic-ui-react');

var _department = require('../../ethereum/department');

var _department2 = _interopRequireDefault(_department);

var _factory = require('../../ethereum/factory');

var _factory2 = _interopRequireDefault(_factory);

var _token = require('../../ethereum/token');

var _token2 = _interopRequireDefault(_token);

var _Layout = require('../../components/Layout');

var _Layout2 = _interopRequireDefault(_Layout);

var _web = require('../../ethereum/web3');

var _web2 = _interopRequireDefault(_web);

var _routes = require('../../routes');

var _measure = require('../../utils/measure');

var _measure2 = _interopRequireDefault(_measure);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _jsxFileName = '/Users/littlewhite/NCUcoin/pages/departments/index.js?entry';


var Index = function (_Component) {
    (0, _inherits3.default)(Index, _Component);

    function Index() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, Index);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Index.__proto__ || (0, _getPrototypeOf2.default)(Index)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
            refreshing: true,
            names: [],
            departments: []
        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
    }

    (0, _createClass3.default)(Index, [{
        key: 'componentDidMount',
        value: function () {
            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
                var _this2 = this;

                var address, departments, names;
                return _regenerator2.default.wrap(function _callee3$(_context3) {
                    while (1) {
                        switch (_context3.prev = _context3.next) {
                            case 0:
                                _context3.next = 2;
                                return _factory2.default.methods.tokenAddress().call();

                            case 2:
                                address = _context3.sent;
                                _context3.next = 5;
                                return (0, _measure2.default)('get deployed Departmwnts', (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                                    return _regenerator2.default.wrap(function _callee$(_context) {
                                        while (1) {
                                            switch (_context.prev = _context.next) {
                                                case 0:
                                                    _context.next = 2;
                                                    return _factory2.default.methods.getDeployedDepartments().call();

                                                case 2:
                                                    return _context.abrupt('return', _context.sent);

                                                case 3:
                                                case 'end':
                                                    return _context.stop();
                                            }
                                        }
                                    }, _callee, _this2);
                                })));

                            case 5:
                                departments = _context3.sent;
                                _context3.next = 8;
                                return _promise2.default.all(departments.map(function () {
                                    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(address) {
                                        var department, summary;
                                        return _regenerator2.default.wrap(function _callee2$(_context2) {
                                            while (1) {
                                                switch (_context2.prev = _context2.next) {
                                                    case 0:
                                                        department = (0, _department2.default)(address);
                                                        _context2.next = 3;
                                                        return department.methods.getSummary().call();

                                                    case 3:
                                                        summary = _context2.sent;
                                                        return _context2.abrupt('return', summary[0]);

                                                    case 5:
                                                    case 'end':
                                                        return _context2.stop();
                                                }
                                            }
                                        }, _callee2, _this2);
                                    }));

                                    return function (_x) {
                                        return _ref4.apply(this, arguments);
                                    };
                                }()));

                            case 8:
                                names = _context3.sent;

                                this.setState({ address: address, names: names, departments: departments, refreshing: false });

                            case 10:
                            case 'end':
                                return _context3.stop();
                        }
                    }
                }, _callee3, this);
            }));

            function componentDidMount() {
                return _ref2.apply(this, arguments);
            }

            return componentDidMount;
        }()
    }, {
        key: 'renderCampaigns',
        value: function renderCampaigns() {
            var _this3 = this;

            var items = this.state.departments.map(function (address, index) {

                return {
                    header: _this3.state.names[index],
                    description: _react2.default.createElement(_routes.Link, { route: '/departments/' + address, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 42
                        }
                    }, _react2.default.createElement('a', {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 43
                        }
                    }, 'View Department')),
                    fluid: true
                };
            });

            return _react2.default.createElement(_semanticUiReact.Card.Group, { items: items, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 50
                }
            });
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(_Layout2.default, {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 55
                }
            }, _react2.default.createElement('div', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 56
                }
            }, _react2.default.createElement('h3', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 57
                }
            }, 'NCU \u5404\u7CFB\u6821\u53CB'), _react2.default.createElement(_semanticUiReact.Dimmer, { inverted: true, active: this.state.refreshing, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 58
                }
            }, _react2.default.createElement(_semanticUiReact.Loader, { content: 'Loading', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 59
                }
            })), this.renderCampaigns()));
        }
    }]);

    return Index;
}(_react.Component);

exports.default = Index;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVua25vd24iXSwibmFtZXMiOlsiX2pzeEZpbGVOYW1lIiwiSW5kZXgiLCJfQ29tcG9uZW50IiwiX3JlZiIsIl90ZW1wIiwiX3RoaXMiLCJfcmV0IiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJfX3Byb3RvX18iLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJzdGF0ZSIsInJlZnJlc2hpbmciLCJuYW1lcyIsImRlcGFydG1lbnRzIiwia2V5IiwidmFsdWUiLCJfcmVmMiIsIm1hcmsiLCJfY2FsbGVlMyIsIl90aGlzMiIsImFkZHJlc3MiLCJ3cmFwIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwicHJldiIsIm5leHQiLCJtZXRob2RzIiwidG9rZW5BZGRyZXNzIiwic2VudCIsIl9jYWxsZWUiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwiZ2V0RGVwbG95ZWREZXBhcnRtZW50cyIsImFicnVwdCIsInN0b3AiLCJhbGwiLCJtYXAiLCJfcmVmNCIsIl9jYWxsZWUyIiwiZGVwYXJ0bWVudCIsInN1bW1hcnkiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJnZXRTdW1tYXJ5IiwiX3giLCJzZXRTdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwicmVuZGVyQ2FtcGFpZ25zIiwiX3RoaXMzIiwiaXRlbXMiLCJpbmRleCIsImhlYWRlciIsImRlc2NyaXB0aW9uIiwiY3JlYXRlRWxlbWVudCIsInJvdXRlIiwiX19zb3VyY2UiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJmbHVpZCIsIkdyb3VwIiwicmVuZGVyIiwiaW52ZXJ0ZWQiLCJhY3RpdmUiLCJjb250ZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FB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QUFULEVBQWdCTSxVQUFVO0FBQ3pEQyw4QkFBVS9ELFlBRCtDO0FBRXpEZ0UsZ0NBQVk7QUFGNkM7QUFBMUIsYUFBaEMsQ0FBUDtBQUtIO0FBcENGLEtBdEZpQixFQTJIakI7QUFDQzNDLGFBQUssUUFETjtBQUVDQyxlQUFPLFNBQVM2QyxNQUFULEdBQWtCO0FBQ3JCLG1CQUFPLGdCQUFNUCxhQUFOLG1CQUVIO0FBQ0lFLDBCQUFVO0FBQ05DLDhCQUFVL0QsWUFESjtBQUVOZ0UsZ0NBQVk7QUFGTjtBQURkLGFBRkcsRUFRSCxnQkFBTUosYUFBTixDQUNJLEtBREosRUFFSTtBQUNJRSwwQkFBVTtBQUNOQyw4QkFBVS9ELFlBREo7QUFFTmdFLGdDQUFZO0FBRk47QUFEZCxhQUZKLEVBUUksZ0JBQU1KLGFBQU4sQ0FDSSxJQURKLEVBRUk7QUFDSUUsMEJBQVU7QUFDTkMsOEJBQVUvRCxZQURKO0FBRU5nRSxnQ0FBWTtBQUZOO0FBRGQsYUFGSixFQVFJLDhCQVJKLENBUkosRUFrQkksZ0JBQU1KLGFBQU4sMEJBRUksRUFBRVEsVUFBVSxJQUFaLEVBQWtCQyxRQUFRLEtBQUtwRCxLQUFMLENBQVdDLFVBQXJDLEVBQWlENEMsVUFBVTtBQUNuREMsOEJBQVUvRCxZQUR5QztBQUVuRGdFLGdDQUFZO0FBRnVDO0FBQTNELGFBRkosRUFPSSxnQkFBTUosYUFBTiwwQkFBNEIsRUFBRVUsU0FBUyxTQUFYLEVBQXNCUixVQUFVO0FBQ3BEQyw4QkFBVS9ELFlBRDBDO0FBRXBEZ0UsZ0NBQVk7QUFGd0M7QUFBaEMsYUFBNUIsQ0FQSixDQWxCSixFQStCSSxLQUFLVixlQUFMLEVBL0JKLENBUkcsQ0FBUDtBQTBDSDtBQTdDRixLQTNIaUIsQ0FBcEI7O0FBMktBLFdBQU9yRCxLQUFQO0FBQ0gsQ0FqTVcsa0JBQVo7O2tCQW1NZUEsSyIsImZpbGUiOiJ1bmtub3duIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9Qcm9taXNlIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlJztcbmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gJ2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3InO1xuaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yJztcbmltcG9ydCBfT2JqZWN0JGdldFByb3RvdHlwZU9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9qc3hGaWxlTmFtZSA9ICcvVXNlcnMvbGl0dGxld2hpdGUvTkNVY29pbi9wYWdlcy9kZXBhcnRtZW50cy9pbmRleC5qcz9lbnRyeSc7XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2FyZCwgRGltbWVyLCBMb2FkZXIgfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCc7XG5pbXBvcnQgRGVwYXJ0bWVudCBmcm9tICcuLi8uLi9ldGhlcmV1bS9kZXBhcnRtZW50JztcbmltcG9ydCBmYWN0b3J5IGZyb20gJy4uLy4uL2V0aGVyZXVtL2ZhY3RvcnknO1xuaW1wb3J0IHRva2VuIGZyb20gJy4uLy4uL2V0aGVyZXVtL3Rva2VuJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IHdlYjMgZnJvbSAnLi4vLi4vZXRoZXJldW0vd2ViMyc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnLi4vLi4vcm91dGVzJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJy4uLy4uL3JvdXRlcyc7XG5pbXBvcnQgbWVhc3VyZSBmcm9tICcuLi8uLi91dGlscy9tZWFzdXJlJztcblxudmFyIEluZGV4ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW5kZXgsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSW5kZXgoKSB7XG4gICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZGV4KTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBJbmRleC5fX3Byb3RvX18gfHwgX09iamVjdCRnZXRQcm90b3R5cGVPZihJbmRleCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcmVmcmVzaGluZzogdHJ1ZSxcbiAgICAgICAgICAgIG5hbWVzOiBbXSxcbiAgICAgICAgICAgIGRlcGFydG1lbnRzOiBbXVxuICAgICAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5kZXgsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFkZHJlc3MsIGRlcGFydG1lbnRzLCBuYW1lcztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5tZXRob2RzLnRva2VuQWRkcmVzcygpLmNhbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IF9jb250ZXh0My5zZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZWFzdXJlKCdnZXQgZGVwbG95ZWQgRGVwYXJ0bXdudHMnLCBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5tZXRob2RzLmdldERlcGxveWVkRGVwYXJ0bWVudHMoKS5jYWxsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCdyZXR1cm4nLCBfY29udGV4dC5zZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSwgX3RoaXMyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHMgPSBfY29udGV4dDMuc2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX1Byb21pc2UuYWxsKGRlcGFydG1lbnRzLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcGFydG1lbnQsIHN1bW1hcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnQgPSBEZXBhcnRtZW50KGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXBhcnRtZW50Lm1ldGhvZHMuZ2V0U3VtbWFyeSgpLmNhbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeSA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgncmV0dXJuJywgc3VtbWFyeVswXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMiwgX3RoaXMyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzID0gX2NvbnRleHQzLnNlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFkZHJlc3M6IGFkZHJlc3MsIG5hbWVzOiBuYW1lcywgZGVwYXJ0bWVudHM6IGRlcGFydG1lbnRzLCByZWZyZXNoaW5nOiBmYWxzZSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50RGlkTW91bnQ7XG4gICAgICAgIH0oKVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyQ2FtcGFpZ25zJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckNhbXBhaWducygpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnN0YXRlLmRlcGFydG1lbnRzLm1hcChmdW5jdGlvbiAoYWRkcmVzcywgaW5kZXgpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogX3RoaXMzLnN0YXRlLm5hbWVzW2luZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBMaW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyByb3V0ZTogJy9kZXBhcnRtZW50cy8nICsgYWRkcmVzcywgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogNDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDQzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWaWV3IERlcGFydG1lbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGZsdWlkOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYXJkLkdyb3VwLCB7IGl0ZW1zOiBpdGVtcywgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogNTBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIExheW91dCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIF9fc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogNTVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiA1NlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiA1N1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnTkNVIFxcdTU0MDRcXHU3Q0ZCXFx1NjgyMVxcdTUzQ0InXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBEaW1tZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGludmVydGVkOiB0cnVlLCBhY3RpdmU6IHRoaXMuc3RhdGUucmVmcmVzaGluZywgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogNThcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkZXIsIHsgY29udGVudDogJ0xvYWRpbmcnLCBfX3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiA1OVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FtcGFpZ25zKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEluZGV4O1xufShDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBJbmRleDsiXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVua25vd24iXSwibmFtZXMiOlsiX2pzeEZpbGVOYW1lIiwiSW5kZXgiLCJfQ29tcG9uZW50IiwiX3JlZiIsIl90ZW1wIiwiX3RoaXMiLCJfcmV0IiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJfX3Byb3RvX18iLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJzdGF0ZSIsInJlZnJlc2hpbmciLCJuYW1lcyIsImRlcGFydG1lbnRzIiwia2V5IiwidmFsdWUiLCJfcmVmMiIsIm1hcmsiLCJfY2FsbGVlMyIsIl90aGlzMiIsImFkZHJlc3MiLCJ3cmFwIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwicHJldiIsIm5leHQiLCJtZXRob2RzIiwidG9rZW5BZGRyZXNzIiwic2VudCIsIl9jYWxsZWUiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwiZ2V0RGVwbG95ZWREZXBhcnRtZW50cyIsImFicnVwdCIsInN0b3AiLCJhbGwiLCJtYXAiLCJfcmVmNCIsIl9jYWxsZWUyIiwiZGVwYXJ0bWVudCIsInN1bW1hcnkiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJnZXRTdW1tYXJ5IiwiX3giLCJzZXRTdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwicmVuZGVyQ2FtcGFpZ25zIiwiX3RoaXMzIiwiaXRlbXMiLCJpbmRleCIsImhlYWRlciIsImRlc2NyaXB0aW9uIiwiY3JlYXRlRWxlbWVudCIsInJvdXRlIiwiX19zb3VyY2UiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJmbHVpZCIsIkdyb3VwIiwicmVuZGVyIiwiaW52ZXJ0ZWQiLCJhY3RpdmUiLCJjb250ZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FB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